template: tesla-proxy
products:
  - brand: Tesla
    description:
      de: Fleet API Proxy
      en: Fleet API Proxy
requirements:
  description:
    de: |
      Es muss ein `access` und ein `refresh` Token für die Kommunikation mit der Tesla API erstellt werden.
      Für die Steuerung des Fahrzeugs muss ferner der Virtual Key auf dem Fahrzeug installiert werden.
      Siehe https://tesla.evcc.io.
    en: |
      You need to generate an `access` and a `refresh` token for communicating with the Tesla API.
      For vehicle control, the virtual key must be installed on the vehicle.
      See https://tesla.evcc.io.
  evcc: ["sponsorship"]
params:
  - name: title
  - name: icon
    default: car
    advanced: true
  - name: accessToken
    required: true
    mask: true
  - name: refreshToken
    required: true
    mask: true
  - name: vin
    example: W...
  - name: capacity
  - name: phases
    advanced: true
  - preset: vehicle-identify
render: |
  type: tesla-proxy
  title: {{ .title }}
  icon: {{ .icon }}
  tokens:
    access: {{ .accessToken }}
    refresh: {{ .refreshToken }}
  capacity: {{ .capacity }}
  phases: {{ .phases }}
  vin: {{ .vin }}
  {{ include "vehicle-identify" . }}
  features: ["coarsecurrent"]
